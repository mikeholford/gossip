<div data-room-id="<%= @room.id %>" data-user-id="<%= current_user.id %>" id="room" class="pb-24" style="overscroll-behavior: none;">

  <!-- HEADER -->
  <div class="fixed w-full bg-blue-400 h-16 pt-2 text-white flex justify-between shadow-md z-10" style="top:0px; overscroll-behavior: none;">
    
    <a href="#">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-12 h-12 my-1 text-blue-100 ml-2"><path class="text-blue-100 fill-current" d="M9.41 11H17a1 1 0 0 1 0 2H9.41l2.3 2.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 1.4L9.4 11z"/></svg>
    </a>
    <div class="my-3 text-blue-100 font-bold text-lg tracking-wide">
      <%= @room.name %> (<%= @room.users.uniq.count %> Users)
    </div>


    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-dots-vertical w-8 h-8 mt-2 mr-2">
      <path class="text-blue-100 fill-current" fill-rule="evenodd" d="M12 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/>
    </svg>
      
  </div>

  <!-- MESSAGES -->
  <div class="messages mt-20 mb-16" id="messages">
    <% @room.messages.each do |message| %>
      <%= render 'messages/message', message: message, primary: (message.user == current_user), ref: message.id, status: "delivered" %>
    <% end %>
  </div>

  <!-- FORM -->
  <%= render "messages/form", message: Message.new, room: @room %>

</div>

